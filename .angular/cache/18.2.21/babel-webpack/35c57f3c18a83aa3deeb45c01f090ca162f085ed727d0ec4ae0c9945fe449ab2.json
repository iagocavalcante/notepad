{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic-native/sqlite/ngx\";\nexport let NoteServiceProvider = /*#__PURE__*/(() => {\n  class NoteServiceProvider {\n    constructor(sqlite) {\n      this.sqlite = sqlite;\n      this.sqlite.create({\n        name: 'notes.db',\n        location: 'default'\n      }).then(db => {\n        console.log(db);\n        this.sqliteObject = db;\n        this.createTables();\n      }, err => {\n        console.log(\"!!! \", err);\n      });\n    }\n    createTables() {\n      if (this.sqliteObject) {\n        this.sqliteObject.executeSql(`create table if not exists notes(\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          title TEXT, \n          text TEXT\n        )`, {});\n      }\n    }\n    getNotes() {\n      return this.sqliteObject?.executeSql('SELECT * FROM notes', []) || Promise.resolve({\n        rows: {\n          length: 0,\n          item: () => null\n        }\n      });\n    }\n    saveNote(note) {\n      let sql = 'INSERT INTO notes (title, text) VALUES (?,?)';\n      return this.sqliteObject?.executeSql(sql, [note.title, note.text]) || Promise.reject('DB not ready');\n    }\n    updateNote(note) {\n      let sql = 'UPDATE notes SET title = \"' + note.title + '\", text = \"' + note.text + '\" WHERE id = \"' + note.id + '\"';\n      this.sqliteObject?.executeSql(sql, []);\n    }\n    removeNote(note) {\n      let sql = 'DELETE FROM notes WHERE id = \"' + note.id + '\"';\n      this.sqliteObject?.executeSql(sql, []);\n    }\n    static {\n      this.ɵfac = function NoteServiceProvider_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || NoteServiceProvider)(i0.ɵɵinject(i1.SQLite));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: NoteServiceProvider,\n        factory: NoteServiceProvider.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return NoteServiceProvider;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}